/*!CK:3820654918!*//*1418047600,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["kXPYR"]); }

__d("PubcontentPageTimelineChainingController",["Arbiter","AsyncRequest","DOM","PageLikeButton","PageTransitions","PubcontentPageTimelineChainingConfig","XPubcontentChainedSuggestionsControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=100,o='fbSuggestionsPlaceHolder';p.initWithContext=function(q){if(!this.$PubcontentPageTimelineChainingController0)this.$PubcontentPageTimelineChainingController0=new p();if(l.trigger_on_load){this.onExplicitChain(q,n);}else k.registerCompletionCallback(this.$PubcontentPageTimelineChainingController0.onExplicitChain.bind(this.$PubcontentPageTimelineChainingController0,q,0));};function p(){this.$PubcontentPageTimelineChainingController1={};this.$PubcontentPageTimelineChainingController2=l;g.subscribe(j.LIKED,this.onLike.bind(this));}p.prototype.onLike=function(q,r){this.$PubcontentPageTimelineChainingController3(r.profile_id);this.$PubcontentPageTimelineChainingController4(r.target,{origin:r.origin,profile_id:r.profile_id});};p.prototype.onExplicitChain=function(q,r){setTimeout(this.$PubcontentPageTimelineChainingController4.bind(this,(void 0),q),r);};p.prototype.$PubcontentPageTimelineChainingController5=function(){var q=i.scry(document,'#'+o);return q.length?q[0]:null;};p.prototype.$PubcontentPageTimelineChainingController6=function(q){return (q in this.$PubcontentPageTimelineChainingController1);};p.prototype.$PubcontentPageTimelineChainingController7=function(q){if(!q)return false;var r=this.$PubcontentPageTimelineChainingController2.origins;if(!r||!r[q.origin])return false;return true;};p.prototype.$PubcontentPageTimelineChainingController3=function(q){this.$PubcontentPageTimelineChainingController1[q]=true;};p.prototype.$PubcontentPageTimelineChainingController8=function(q){delete this.$PubcontentPageTimelineChainingController1[q];};p.prototype.$PubcontentPageTimelineChainingController4=function(q,r){var s=r.profile_id;if(!this.$PubcontentPageTimelineChainingController6(s))return false;if(!this.$PubcontentPageTimelineChainingController7(r))return false;var t=this.$PubcontentPageTimelineChainingController5();if(!t)return;var u=(new m()).setString('pageid',s).getURI();new h().setErrorHandler(this.$PubcontentPageTimelineChainingController8.bind(this,s)).setRelativeTo(t).setURI(u).send();};e.exports=p;},null);
__d("legacy:LayerHideOnBlur",["LayerHideOnBlur"],function(a,b,c,d){a.LayerHideOnBlur=b('LayerHideOnBlur');},3);